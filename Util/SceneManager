function SceneManager(programInst)
  local self = {}
    
  local currentScene = nil
  local program = programInst
  
  self.setScene = function(newScene)
    Logger.log("Set scene "..newScene.getTag())
    if currentScene ~= newScene then
      if currentScene then
        currentScene.active = false
        
        if currentScene.onStop then
          Logger.log("Stop scene "..currentScene.getTag())
          currentScene.onStop(program)
        end
      end
      currentScene = newScene
      currentScene.active = true
      if currentScene ~= nil then
        program:LoadView(currentScene.getViewName())
        currentScene.view = program.View
        if currentScene.onStart then
          currentScene.onStart(program)
        end
      end
    end
  end
  
  self.getScene = function()
    return currentScene
  end
  
  return self
end